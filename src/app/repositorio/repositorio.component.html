
<!-- Panel Main -->
<div class="container">
<mat-accordion>
  <mat-expansion-panel (opened)="panelMainState = true"
                        (closed)="panelMainState = false">
    <mat-expansion-panel-header>
      <mat-panel-title> Repositorio </mat-panel-title>
      <mat-icon class="add"
                style="margin-right: .8rem;"
                aria-hidden="false"
                aria-label="Example home icon"
                (click)="addNewRepositoryFile()">
                add
      </mat-icon>
    </mat-expansion-panel-header>
    <!-- Main Content -->
    <!-- Panel Category -->
    <mat-accordion>
      <ng-container *ngIf="files; else noFiles">
        <ng-container *ngFor="let category of categories">
          <mat-expansion-panel (opened)="panelCategoryState = true"
                                (closed)="panelCategoryState = false">

            <mat-expansion-panel-header>
              <mat-panel-title> {{ category }} </mat-panel-title>
              <div class="icon_container">
                <mat-icon class="add"
                          aria-hidden="false"
                          aria-label="Example home icon"
                          (click)="addNewFile(category)">
                  add
                </mat-icon>
              </div>
            </mat-expansion-panel-header>

            <!-- Category Content-->
            <!-- Links -->
            <ng-container *ngIf="files.length > 0; else noElements">
              <mat-list role="list">
                <ng-container *ngFor="let file of files">
                  <ng-container *ngIf="file.category === category">
                    <mat-list-item role="listitem">
                      <div class="container_flex">
                        <a [href]="file.link" target="_blank">{{ file.name }}</a>
                        <mat-icon id="remove"
                                  aria-hidden="false"
                                  aria-label="Example home icon"
                                  (click)="deleteFile(file)"
                                  style="cursor: pointer;">
                          remove
                        </mat-icon>
                      </div>
                    </mat-list-item>
                  </ng-container>
                </ng-container>
              </mat-list>
            </ng-container>

            <ng-template #noElements>
              This category has no items
            </ng-template>

          </mat-expansion-panel>
        </ng-container>
      </ng-container>

      <ng-template #noFiles>
        No files exist
      </ng-template>

    </mat-accordion>
    <!-- !Panel Category -->

  </mat-expansion-panel>
</mat-accordion>
</div>
